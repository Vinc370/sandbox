@model IEnumerable<Person>

@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<script>
    function remove(id)
    {
        fetch("https://localhost:7026/api/personcommand/delete/" + id)
        .then(location.reload())
        .catch(error => console.error('Error!', error));
    }
</script>

<div style="padding-top:5.5%">
    <div style="padding-bottom:1%">
        <h1>User Database</h1>
    </div>
    <table style="width:100%">
        <thead>
            <tr>
                <th hidden>ID</th>
                <th>Name</th>
                <th>Date of Birth</th>
                <th></th>
            </tr>
        </thead>
    @foreach(var item in Model)
    {
        <tbody>
            <tr>
                <td hidden>@item.Id</td>
                <td>@item.name</td>
                <td>@item.dob</td>
                <td style="width:10%">
                    <div style="width:100%">
                      <button type="button" onclick="location.href='@Url.Action("index", "personquery", new { id=@item.Id })'" class="btn btn-primary btn-sm" style="width:100%">View</button>
                    </div>
                </td>
                <td style="width:10%">
                    <div style="width:100%">
                      <button type="button" onclick="location.href='@Url.Action("update", "personquery", new { id=@item.Id })'" class="btn btn-info btn-sm" style="width:100%">Edit</button>
                    </div>
                </td>
                <td style="width:10%">
                    <div style="width:100%">
                          <button type="submit" onclick="remove(@item.Id)" class="btn btn-danger btn-sm" style="width:100%">Delete</button>
                    </div>
                </td>
            </tr>
        </tbody>
    }
    </table>
</div>
<div style="margin:auto; width:100%; padding-top:2%">
    <div style="margin:auto; width: 15%">
        <button type="button" onclick="location.href='@Url.Action("create","personquery")'" class="btn btn-success btn-sm" style="width:100%; margin: auto">Create</button>
    </div>
</div>